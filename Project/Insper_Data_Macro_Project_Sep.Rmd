---
title: "Preliminary impressions about the relationship between the level of public debt and the countries' ability to attract new foreign credits"
author: "Augusto Netto, Gabriella Garcia and Maria Clara Drzeviechi"
output:
  html_document:
    df_print: paged
    highlight: haddock
    number_section: yes
    theme: readable
    toc: yes
    toc_float:
      collapsed: yes
      smooth_scroll: yes
  pdf_document:
    toc: yes
---

<style>
body {
text-align: justify}
</style>


**Insper Data**



# Introduction and Motivation

This study aims to investigate how a country’s level of public debt can be an obstacle to attract new foreign credit. If the country incurs high levels of debt, it is more likely that it will not be able to repay its creditor. Thus, in situations that a country’s level of public debt is too large, the creditors may choose to stop financing the country (Krugman, 1988), because of fearing a default. 

In the past 50 years, emerging and developing economies experienced four big indebtedness waves, three of which ended up in financial crises. In the 1980s, the association of low real interest rates and growing debt market led certain economies to raise considerably their levels of indebtedness; the result was the well-known Latin America’s debt crisis. A decade later, the world would watch the Asian financial crisis, due to the liberalization of financial markets and capital flows, allowing these countries to acquire loans in foreign currencies. Finally, in 2007-09, both emerging and advanced economies faced major recessions as a result of the global financial crisis.

It is important to notice that although happening in different decades and locations, these three episodes share a common denominator: they all started in periods with low real interest rates and an escalating indebtedness. This scenario made the risk premium rise and subsequently there was a sudden stop of capital flows. 

In 2010, the fourth global wave of debt started, and it was the largest and fastest one. In accordance with the aforementioned ones, interest rates were low since the Global Financial Crisis and investors were seeking assets with greater profitability. It is also reasonable to consider that this wave has not yet met its end. By 2018, according to the IMF, global debt has reached 226% of GDP, representing an amount of 188 trillions of dollars.  Emerging and developing economies saw indebtedness grow 54 p.p. in 8 years, reaching 170% of GDP. Low income countries reached 67% of GDP in 2018 – that figure was 48% in 2010. A different situation is seen on advanced economies, once they have maintained the 265% ratio of debt to GDP on the same level since 2010.

Considering budget deficits, corporate foreign debt and current account deficits, one will probably say that the situation in which emerging and developing countries are now is far worse than that in which they were in 2010. In addition, part of these economies have since then faced long periods of low growth and find now a weaker global economy, which puts them in a more vulnerable situation to external shocks.

Despite low real interest rates, the constant rise in indebtedness can lead to a sudden rise in risk premia and consequently in interest rates, aggravating the perspectives of those countries. Something like that has already been experienced by Argentina and Turkey; both saw a rise in the cost of servicing the debt.

There is a problem when investors begin to demand a higher premium due to those higher risks: it can possibly end up in a debt crisis once they consider a certain Debt/GDP level to be unsustainable (Blanchard 2019; Henderson 2019; Rogoff 2019a,b). When such a thing happens, it is expected a ‘flight-to-safety’, and weaker and highly indebted economies see huge capital outflows and a depreciation on the exchange rate.

In this context, this study intends to analyze the impact of the variable debt-to-GDP ratio on the participation of foreign creditors in government bonds. Therefore, a worldwide analysis will be conducted using the database provided by Arslanalp and Takahiro Tsuda, previously affiliated with the Monetary and Capital Markets Department of the International Monetary Fund.





# Literature Review

Discussions on how indebtedness can affect the macroeconomic variables of a country are widely addressed in the literature. This review will focus on three topics: debt and growth; debt overhang and debt tolerance.

The relationship between debt and growth was first found to be non-linear by Reinhart, Rogoff, and Savastano (2003). Later, Reinhart and Rogoff (2010) analyze countries distinguishing developed and emerging markets and they found out that, for both groups, a 90% debt to GDP ratio can be detrimental for growth. On the other hand, Kumar and Woo (2010) produced evidence that the negative impact of debt on growth is higher for developing countries when compared with developed countries. 
Thinking about debt tolerance, Reinhart, Rogoff and Savastano (2003) introduce the concept of debt intolerance and analyze how emerging markets find it difficult to face high levels of debt, while advanced countries face this issue more easily.  Later, Catão and Kapur (2006) discussed the macroeconomic determinants of a country’s volatility and how it impacts the spread rate it has to pay.

The concept of debt overhang refers to a debt burden so large that the country can not take any additional debt to finance itself. Krugman (1988) discussed the tradeoff for creditors when facing a debt overhang: financing or forgiving. Deshpande (1995) discusses how a situation of debt overhang can discourage investment. Reinhart, Reinhart, and Rogoff (2012) punctuated the main episodes in history about debt overhang.




# Dataset Description

The dataset used in this study is composed by the database provided by Arslanalp and Takahiro Tsuda, the World Economic Outlook from IMF and the WOrld Bank. The dataset is composed of 45 countries and covers sixteen years, from 2004 to 2019.  

```{r, echo=FALSE, message=FALSE} 
#adicionando libraries
library(tidyverse)
library(scales)
library(ggthemes)
library(spData)
library(gganimate)
library(readr)
library(readxl)
library(spData)
library(plotly)
library(sf)
library(viridis)
library(ggcharts)
library(ggrepel)
library(cowplot)
library(gapminder)


#puaxando a dataset_total e a dataset_total_index
dataset_total <- read.csv("dataset_total.csv") 

dataset_total_index <- read.csv("dataset_total_index.csv") 
head(dataset_total, 10)
```



What follows is the details on some of the variables above shown:

* **Total general government gross debt** - accounts for the debt of the central, local and state governments. The definition of debt here is broad - as Arslanalp and Tsuda (2012) points out - and includes: i) currency and deposits; ii) securities; and iii) loans. Measured in billions of national currency.

* **Subgroups from total debt** - total general government gross debt is divided into six groups concerning the beholder of the asset, those groups are:

 - *Foreing central banks*;
 - *Foreign banks*;
 - *Foreing non-banks*;
 
 - *Domestic central bank*;
 - *Domestic banks*;
 - *Domestic non-banks*.

* **GDP constant** - Annual percentages of constant price GDP are year-on-year changes; the base year is country-specific. Expenditure-based GDP is total final expenditures at purchasersâ prices (including the f.o.b. value of exports of goods and services), less the f.o.b. value of imports of goods and services; 

* **GDP current** - These data form the basis for the country weights used to generate the World Economic Outlook country group composites for the domestic economy;  

* **GDP per capita constant** - GDP is expressed in constant international dollars per person. Data are derived by dividing constant price purchasing-power parity (PPP) GDP by total population;

* **Inflation mean** - Annual percentages of average consumer prices are year-on-year changes;

* **Inflation end** - Annual percentages of end of period consumer prices are year-on-year changes;

* **Unemployment rate** - Defined by either the national definition, the ILO harmonized definition, or the OECD harmonized definition. The OECD harmonized unemployment rate gives the number of unemployed persons as a percentage of the labor force (the total number of people employed plus unemployed);

* **Lending-borrowing rate** - Net lending (+)/ borrowing (â) is calculated as revenue minus total expenditure. This is a core GFS balance that measures the extent to which general government is either putting financial resources at the disposal of other sectors in the economy and nonresidents (net lending), or utilizing the financial resources generated by other sectors and nonresidents (net borrowing);

* **Account balance** - Current account is all transactions other than those in financial and capital items. The major classifications are goods and services, income and current transfers. The focus of the BOP is on transactions (between an economy and the rest of the world) in goods, services, and income;

* **Develop** Variable to distinguish emerging markets (EM) and advanced markets (AM);

* **Taxes** Tax aliquote for each country;

* **VIX (EUA)** Year average for the Volatility Index (VIX) is a measure of expected price fluctuations in the S&P 500 Index options;

* **VIX (EUR)** Year average for the EuroCurrency Volatility Index ("Euro VIX") measures the market's expectation volatility of the $US/Euro exchange rate;

* **Nominal Rate** Annual nominal interest rate;

* **GDP per capita in current USD**.



## Ranking 

```{r , echo=FALSE, message=FALSE}

  dataset_total %>%
  filter(year %in% c(2004, 2009, 2014, 2019), !is.na(develop)) %>%
  bar_chart(x = country, y = debt_to_GDP_, facet = year, top_n = 15, fill = develop) +
  labs( x = "", y = "Debt to GDP (%)",
  title = "Top 15 Debt to GDP", fill = "Develop") +
  theme_classic() +
  scale_fill_manual("Develop", values = c("EM" = "red4", "AM" = "navyblue"))+
  theme(legend.title = element_text(face = "bold", size = 10)) 


```



```{r , echo=FALSE, message=FALSE}

dataset_total %>%
  mutate(f_debt = foreign_debt_*fx_) %>% 
  filter(year %in% c(2004, 2009, 2014, 2019), !is.na(develop)) %>%
  bar_chart(x = country, y = (f_debt), facet = year, top_n = 15, fill = develop) +  
  labs( x = "", y = "Debt held by Foreign Investors (Billions USD)",
  title = "Top 15 countries with debt held by Foreign Investors", fill = "Develop") +
  theme_classic() +
  theme(legend.title = element_text(face = "bold", size = 10)) +
  scale_fill_manual("Develop", values = c("EM" = "red4", "AM" = "navyblue"))

```



# Stylized Facts

Firstly, some stylized facts will be explained in relation to our dataset.


## Countries have different indebtedness levels

```{r , echo=FALSE, message=FALSE}

mundo <- world %>%
  mutate(name_long = str_replace_all(string = name_long, pattern = "Russian Federation", replacement = "Russia"),
         name_long = str_replace_all(string = name_long, pattern = "Republic of Korea", replacement = "Korea"))

mundo <- mundo %>% 
  select(-c('continent':'gdpPercap')) %>% 
  rename(country = name_long) %>% 
  full_join(dataset_total, by = "country") %>% 
  mutate(debt_to_GDP_ = as.numeric(debt_to_GDP_))

mundo %>% 
  ggplot() +
  geom_sf(data = mundo, aes(geometry = geom), fill = "lightgrey") +
  geom_sf(aes(fill = debt_to_GDP_)) +
  scale_fill_viridis_c(name = "(%)", option = "magma", trans = "sqrt", direction = -1) +
  ggtitle("Debt to GDP") +
  labs(subtitle = "Mean 2004-2019") +
  theme_map() +
  theme(panel.background = element_rect(fill = "white"),
        legend.title = element_text(face = "bold", size = 10),
        legend.background = element_rect(fill = NA),
        plot.title = element_text(face = "bold", size = 17)) +
  #transition_states(year,
                      #transition_length = 2,
                      #state_length = 1) +
  coord_sf(ylim = c(-50, 90))

legend.title = element_text(colour="blue", size=10, 
                            face="bold")
  

```

As the map shown above makes clear, countries around the world have contrasting levels of debt to GDP. Nations in grey are not part of our sample. 


## The level of indebtedness in the world has varied considerably in recent years
```{r , echo=FALSE, message=FALSE}

 graph_debt <- dataset_total %>% 
  group_by(year) %>%
   filter(!is.na(develop)) %>% 
  summarise(debt_to_GDP_mean = mean(debt_to_GDP_)) %>% 
ggplot(aes(x = year, y = debt_to_GDP_mean)) +
    geom_point() +
     geom_smooth(color="black")+
    labs(x = "Year", y = "Debt to GDP Ratio (%)", title = "Average Debt to GDP Ratio for 45 Countries") +
    theme_light()

graph_debt


```


It is possible to observe that the average indebtedness in the countries fell a lot in 2008, rise until 2018 and has been showing a slight drop.


## Advanced markets are more indebted than emerging markets

```{r, echo=FALSE, message=FALSE}
 graph_debt_sep<-dataset_total %>% 
   filter(!is.na(develop)) %>% 
   rename(Type=25) %>% 
  group_by(year, Type) %>% 
  summarise(debt_to_GDP_mean = mean(debt_to_GDP_)) %>% 
ggplot(aes(x = year, y = debt_to_GDP_mean, color=Type )) +
   scale_color_manual(values = c("EM" = "red4", "AM" = "navyblue"))+
    geom_point() +
    geom_smooth()+
    labs(x = "Year", y = "Debt to GDP Ratio (%)", title = "Average Debt to GDP Ratio for Advanced and Emerging Markets") +
    theme_light()

graph_debt_sep

```


## The relationship between debt and GDP is not clear

```{r, echo=FALSE, message=FALSE, warning=FALSE}


animated_debt_gdp <- dataset_total %>% 
  filter(!is.na(develop)) %>% 
  ggplot(aes(x = GDP_per_cap_cur_USD , y= debt_to_GDP_ , colour = develop, size = GDP_per_cap_cur_USD)) +
  geom_point(show.legend = TRUE, alpha = 0.7) +
  scale_size(range = c(2, 12)) +
  theme_bw() +
  scale_x_log10() +
  labs(x = "GDP per capita (USD)", y = "Debt to GDP Ratio (%)")+
  labs(x = "GDP per capita", y = "Debt to GDP Ratio (%)", colour = "Type", size = "GDP per cap (USD)")+ 
  scale_colour_manual("Develop", values = c("EM" = "red4", "AM" = "navyblue"))

 gif_debt <- animated_debt_gdp + transition_time(year) +
  labs(title = "Year: {frame_time}")

gif_debt

```



```{r, echo=FALSE, message=FALSE, warning=FALSE}

 graph_debt_GDP <- dataset_total %>% 
   group_by(country) %>% 
   filter(!is.na(develop)) %>% 
  summarise(debt_to_GDP_mean = mean(debt_to_GDP_) , GDP_per_cap_mean = mean(GDP_per_cap_cur_USD)) %>% 
ggplot(aes(x = GDP_per_cap_mean, y = debt_to_GDP_mean, color=country)) +
    scale_color_viridis_d() +
    geom_point() +
    labs(x = "GDP per Capita (USD)", y = "Debt to GDP Ratio (%)", title = " Average for 45 Countries (2004-2019)") +
    theme_bw()

graph_debt_GDP
 
```


Even though advanced markets have a higher debt level than emerging markets, the relationship between GDP per capita and debt to GDP ratio is not clear.


## It is not possible to observe that countries with more than 90% debt to GDP grow less  

```{r, echo=FALSE, message=FALSE}

dataset_total %>% 
    filter(year >= 2008, develop == "AM") %>% 
    mutate(GDP_var = ifelse(year == 2019, (GDP_cte - dplyr::lag(GDP_cte, k = 10))/(dplyr::lag(GDP_cte, k = 10)), NA)) %>%
    group_by(country) %>% 
    mutate(media_debt_GDP = mean(debt_to_GDP_)) %>% 
    filter(year == 2019, !is.na(develop)) %>% 
    ggplot() +
    geom_point(aes(x = media_debt_GDP, y = GDP_var), colour = "black") +
    geom_text(aes(x = media_debt_GDP, y = GDP_var, colour = country, label = country, fontface = 2),
              hjust = 0.5, vjust = -0.5, size = 3) +
    geom_vline(xintercept = 90, linetype="dashed", colour = "red4", size = 1) +
    labs(title = "Relation between debt and growth - Advanced markets",
         subtitle = "(2009-2019)") +
    theme_bw() +
    theme(legend.position = "none", plot.title = element_text(size = 15)) +
    xlab("Debt to GDP (%)") +
    ylab("GDP growth")

```


Contrasting with Reinhart and Rogoff (2010), this dataset does not show a clear pattern of decreasing GDP growth beyond the 90% debt to GDP level for advanced economies (marked in red). 

```{r, echo=FALSE, message=FALSE}


dataset_total %>% 
    filter(year >= 2008, develop == "EM") %>% 
    mutate(GDP_var = ifelse(year == 2019, (GDP_cte - dplyr::lag(GDP_cte, k = 10))/(dplyr::lag(GDP_cte, k = 10)), NA)) %>%
    group_by(country) %>% 
    mutate(media_debt_GDP = mean(debt_to_GDP_)) %>% 
    filter(year == 2019, !is.na(develop)) %>% 
    ggplot() +
    geom_point(aes(x = media_debt_GDP, y = GDP_var), colour = "black") +
    geom_text(aes(x = media_debt_GDP, y = GDP_var, colour = country, label = country, fontface = 2),
              hjust = 0.5, vjust = -0.5, size = 3) +
    labs(title = "Relation between debt and growth - Emerging markets",
         subtitle = "(2009-2019)") +
    theme_bw() +
    theme(legend.position = "none", plot.title = element_text(size = 15)) +
    xlab("Debt to GDP (%)") +
    ylab("GDP growth")
 
```


Concerning emerging economies, Reinhart et. al (2003) finds that real growth might be constrained even with low levels of indebtedness - such as 15 or 20%. Once again, the selection of countries and time space here goes in a different direction.


## Foreign investors have a preference for allocating their resources to advanced market bond

```{r, echo=FALSE, message=FALSE}
 
graph_debt_foreign_sep<-dataset_total %>% 
   filter(!is.na(develop)) %>% 
   rename(Type=25) %>% 
  mutate(foreign_debt_USD=(foreign_debt_*fx_)) %>% 
  group_by(year, Type) %>% 
  summarise(debt_foreign_mean = mean(foreign_debt_USD)) %>% 
ggplot(aes(x = year, y = debt_foreign_mean, color=Type )) +
   scale_color_manual(values = c("EM" = "red4", "AM" = "navyblue"))+
    geom_point() +
    geom_smooth()+
    labs(x = "Year", y = "Government Debt Held by Foreign Investors (Billion USD)", title = "Total Debt Held by Foreign Investors for Advanced and Emerging Markets") +
    theme_bw()

graph_debt_foreign_sep
```


It is possible to observe that foreign investors have allocated much more resources in bonds from advanced markets. In addition, we can see that since 2012, the participation of foreign investors in government bonds has accelerated.


## The participation of domestic investors in the composition of debt it is not invariant over time

```{r, echo=FALSE, message=FALSE}
 graph_debt_domestic_sep<-dataset_total %>% 
   filter(!is.na(develop)) %>% 
   rename(Type=25) %>% 
  mutate(domestic_debt_USD_prop=(domestic_debt_/total_debt_)) %>% 
  group_by(year, Type) %>% 
  summarise(debt_domestic_mean = mean(domestic_debt_USD_prop)) %>% 
ggplot(aes(x = year, y = debt_domestic_mean, color=Type )) +
   scale_color_manual(values = c("EM" = "red4", "AM" = "navyblue"))+
    geom_point() +
    geom_smooth()+
    labs(x = "Year", y = "Government Debt Held by Domestic Investors (%)", title = "Debt Held by Foreign Investors for Advanced and Emerging Markets") +
    theme_bw()

 graph_debt_domestic_sep

```


In addition to the domestic participation in debt varying for both emerging and advanced countries, it is possible to infer that those variations are inverse.


## There is no clear relationship between debt and inflation

```{r, echo=FALSE, message=FALSE, warning=FALSE}

graph_debt_inflation <-  dataset_total %>% 
  filter(!is.na(develop)) %>% 
  ggplot() + 
  geom_point(aes(inflation_mean, (total_debt_*fx_), colour = develop)) +
  xlim(0,40)+
  ylim(0,400) +
  labs(x = "Annual Inflation Rate (%)", y = "Total Debt (Billion USD)", title = "Total Debt X Inflation", subtitle = "45 countries (2004-2019)" ) + 
  theme_bw()+
scale_colour_manual("Develop", values = c("EM" = "red4", "AM" = "navyblue")) 

graph_debt_inflation

```


# References

Arslanalp, S., and Tsuda, T. “Tracking Global Demand for Emerging Market Sovereign Debt” IMF working papers (2014): 14/39 

———, and ———. “Tracking Global Demand for Advanced Economy Sovereign Debt” IMF working papers (2012): 12/284

Blanchard, O. J., and L. H. Summers. 2019. Evolution or Revolution? Rethinking Macroeconomic Policy After the Great Recession. Cambridge: MIT Press.

Catão, Luis, and Sandeep Kapur. "Volatility and the debt-intolerance paradox." IMF Staff Papers 53.2 (2006): 195-218.

Deshpande, Ashwini. "The debt overhang and the disincentive to invest." Journal of development Economics 52.1 (1997): 169-187.

Krugman, Paul R. Financing vs. forgiving a debt overhang. No. w2486. National Bureau of Economic Research, 1988.

Kumar, Manmohan, and Jaejoon Woo. "Public debt and growth." IMF working papers (2010): 1-47. 

Reinhart, Carmen M., and Kenneth S. Rogoff. "Growth in a Time of Debt." American economic review 100.2 (2010): 573-78.

Reinhart, Carmen M., Kenneth S. Rogoff, and Miguel A. Savastano. Debt intolerance. No. w9908. National Bureau of Economic Research, 2003.

Reinhart, Carmen M., Kenneth S. Rogoff, and Miguel A. Savastano. Debt intolerance. No. w9908. National Bureau of Economic Research, 2003.

Reinhart, Carmen M., Vincent R. Reinhart, and Kenneth S. Rogoff. "Public debt overhangs: advanced-economy episodes since 1800." Journal of Economic Perspectives 26.3 (2012): 69-86.

Rogoff, K. 2019a. “Risks to the Global Economy in 2019.” Project Syndicate, January 11. https://www.project-syndicate.org/commentary/global-economy-mainrisks-in-2019-by-kenneth-rogoff-2019-01.

———. 2019b. “Government Debt is Not A Free Lunch .” Project Syndicate, December 6. https://www.project-syndicate.org/commentary/government-debt-lowinterest-rates-no-free-lunch-by-kenneth-rogoff-2019-11 .





